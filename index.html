<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Grapher</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/control_menu.css">
    <link rel="stylesheet" type="text/css" href="css/select.css">
</head>

<body>

    <div class="controls">
        <a href="#hide1" class="hide" id="hide1">+</a>
        <a href="#show1" class="show" id="show1">-</a>
        <div class="control_panel">
            <form action="">
                <p>
                    <label class="label">Graph Type:</label>
                    <select class="turnintodropdown" id="graph_select">
						<option>Select a graph type:</option>
                        <option value="scatter">Scatter</option>
                        <option value="network">Network</option>
                        <option value="line">Line</option>
                        <option value="bar">Bar</option>
					</select>
                </p>
                <div class="flipswitch">
                    <input type="checkbox" name="flipswitch" class="flipswitch-cb" id="fs" checked>
                    <label class="flipswitch-label" for="fs">
                        <div class="flipswitch-inner"></div>
                        <div class="flipswitch-switch"></div>
                    </label>
                </div>
                <p>
                    <label class="label">Axes:</label>
                    <select class="turnintodropdown" name="axis" id="x_axis_select">
                        <option>Select x-axis data:</option>
                    </select>
                </p>
                <p>
                    <select class="turnintodropdown" name="axis" id="y_axis_select">
                        <option>Select y-axis data:</option>
                    </select>
                </p>
                <p>
                    <select class="turnintodropdown" name="axis" id="z_axis_select">
                        <option>Select z-axis data:</option>
                    </select>
                </p>
                <a class="graph_btn" onclick="drawGraph()">GRAPH!</a>
            </form>


        </div>
    </div>


    <!-- JSON -->
    <script type="text/javascript" src="resources/data.json"></script>
    <!-- jQuery libraries -->
    <script type="text/javascript" src="js/libs/jquery-3.1.1.js"></script>
    <script type="text/javascript" src="js/libs/jquery-validate.js"></script>
    <!-- three.js and TrackballControls libraries-->
    <script type="text/javascript" src="js/libs/three.js"></script>
    <script type="text/javascript" src="js/libs/TrackballControls.js"></script>

    <!-- Main js scripts -->
    <script type="text/javascript" src="js/parse.js"></script>
    <script type="text/javascript" src="js/objectscripts/raycaster.js"></script>
    <script type="text/javascript" src="js/objectscripts/select.js"></script>

    <script type="text/javascript" src="js/graph.js"></script>
    <script type="text/javascript" src="js/main.js"></script>

    <script type="text/javascript">
        //scatterPlot("Actor", ["age", "total_gross", "movies"]);

        /**
         * Populates the axis select options.
         */
        function fillAxes() {
            var quant_attr = extractQuantAttributes();
            for (var obj in quant_attr) {
                for (var attribute in quant_attr[obj]) {
                    var select_text = obj.concat(" ", quant_attr[obj][attribute]);
                    //console.log(typeof select_text, select_text);
                    var new_select = "<option></option>";
                    $(new_select).attr("value", select_text).text(select_text).appendTo("[name=axis]");

                }
            }
        }

        /**
         * Checks that all necessary fields in controls have been filled correctly.
         */
        function checkFormValidity() {

        }
        /**
         * Gets all the values from the controls and stores them into GRAPH
         */
        function extractFormContents() {

            //Set graph_type
            GRAPH.graph_type = $("#graph_select").val();
            //Set 3D

            //Set json_class and axes_attr
            var x_axis_value = $("#x_axis_select").val().split(" ");
            var y_axis_value = $("#y_axis_select").val().split(" ")
            var z_axis_value = $("#z_axis_select").val().split(" ")

            GRAPH.json_class = x_axis_value[0];
            GRAPH.axes_attr.push(
                x_axis_value[1],
                y_axis_value[1],
                z_axis_value[1]
            );
            //Set scale_log

            //Set axes_range

            //Set axes_labels
        }
        fillAxes();
        tamingselect();
    </script>


</body>

</html>
